# Task List: Frontend PWA - Sistema de Finanzas Personales con AI

Generated from: `prd-frontend-pwa.md`

## Relevant Files

**Frontend (Vite + React):**
- `frontend/package.json` - Node.js dependencies and scripts for Vite + React + PWA
- `frontend/vite.config.ts` - Vite configuration with PWA plugin and Railway deployment settings
- `frontend/src/main.tsx` - React application entry point with providers setup
- `frontend/src/App.tsx` - Main application component with routing and layout
- `frontend/src/components/auth/LoginPage.tsx` - OAuth login interface with Google/Microsoft
- `frontend/src/components/auth/ProtectedRoute.tsx` - Route protection component for authenticated users
- `frontend/src/components/onboarding/OnboardingFlow.tsx` - Guided onboarding experience
- `frontend/src/components/dashboard/Dashboard.tsx` - Main dashboard with real-time transaction updates
- `frontend/src/components/dashboard/TransactionList.tsx` - Transaction display with filtering and search
- `frontend/src/components/dashboard/AccountBalance.tsx` - Account balances and summary cards
- `frontend/src/components/emails/EmailConnectionManager.tsx` - Email setup and connection management
- `frontend/src/hooks/useAuth.ts` - Authentication state management with JWT handling
- `frontend/src/hooks/useTransactions.ts` - Transaction data management with React Query
- `frontend/src/services/api.ts` - API client with interceptors for Django backend
- `frontend/src/services/auth.ts` - OAuth service integration with backend JWT system
- `frontend/src/types/index.ts` - TypeScript type definitions for API responses
- `frontend/src/utils/storage.ts` - Secure local storage utilities for offline functionality
- `frontend/tailwind.config.js` - Tailwind CSS configuration with custom fintech theme
- `frontend/public/manifest.json` - PWA manifest with app metadata and icons
- `frontend/public/sw.js` - Service worker for offline functionality (auto-generated by Vite PWA)
- `frontend/railway.json` - Railway deployment configuration for frontend service
- `frontend/.env.example` - Environment variables template for frontend configuration

**Testing Files:**
- `frontend/src/components/auth/LoginPage.test.tsx` - Unit tests for authentication flow
- `frontend/src/components/dashboard/Dashboard.test.tsx` - Unit tests for dashboard functionality
- `frontend/src/hooks/useAuth.test.ts` - Unit tests for authentication hook
- `frontend/src/services/api.test.ts` - Unit tests for API client functionality

**Backend Integration:**
- `backend/afp_v2/settings.py` - Update CORS settings for frontend domain
- `backend/example.env` - Add frontend-specific environment variables

**Infrastructure:**
- `railway.json` - Railway deployment configuration for frontend service

### Notes

- Frontend tests use Vitest (Vite's testing framework): `npm run test`
- PWA functionality tested with Lighthouse: `npm run build && npm run preview`
- Development server with backend proxy: `npm run dev`
- Railway deployment uses Nixpacks for automatic build detection and optimization
- Service worker auto-generated by Vite PWA plugin, manual customization in `vite.config.ts`

## Tasks

- [ ] 1.0 Project Setup & Development Environment
  - [ ] 1.1 Initialize Vite + React + TypeScript project in `frontend/` directory
  - [ ] 1.2 Configure package.json with required dependencies (React Query, Zustand, Radix UI, Tailwind)
  - [ ] 1.3 Set up Vite configuration with development proxy to Django backend (localhost:8000)
  - [ ] 1.4 Configure Tailwind CSS with custom fintech color palette and typography
  - [ ] 1.5 Set up TypeScript configuration with strict mode and path aliases
  - [ ] 1.6 Create basic project structure (components, hooks, services, utils directories)
  - [ ] 1.7 Set up Vitest for testing with React Testing Library integration
  - [ ] 1.8 Configure ESLint and Prettier for code consistency
  - [ ] 1.9 Configure concurrent development setup (frontend dev server + backend Django server)
  - [ ] 1.10 Set up environment variables configuration (.env.example and .env.local)

- [ ] 2.0 Authentication & OAuth Integration
  - [ ] 2.1 Create API service client with Axios and JWT interceptors for Django backend
  - [ ] 2.2 Implement useAuth hook with Zustand for authentication state management
  - [ ] 2.3 Create OAuth service for Google and Microsoft authentication flows
  - [ ] 2.4 Build LoginPage component with OAuth buttons and loading states
  - [ ] 2.5 Implement ProtectedRoute component for route protection
  - [ ] 2.6 Create JWT token refresh logic with automatic retry on 401 errors
  - [ ] 2.7 Implement secure logout functionality with token cleanup
  - [ ] 2.8 Add authentication error handling with user-friendly messages
  - [ ] 2.9 Create authentication persistence with secure local storage
  - [ ] 2.10 Write unit tests for authentication flow and token management

- [ ] 3.0 Core UI Components & Design System
  - [ ] 3.1 Set up Radix UI components (Dialog, DropdownMenu, Button, Input, Card)
  - [ ] 3.2 Create base UI components with Tailwind styling (Button, Input, Card, Modal)
  - [ ] 3.3 Implement responsive layout components (Header, Sidebar, Main content area)
  - [ ] 3.4 Create loading states and skeleton components for data fetching
  - [ ] 3.5 Build error boundary component with user-friendly error display
  - [ ] 3.6 Implement toast notification system for user feedback
  - [ ] 3.7 Create form components with React Hook Form and Zod validation
  - [ ] 3.8 Build mobile-first navigation with hamburger menu and responsive design
  - [ ] 3.9 Implement dark/light theme support with system preference detection
  - [ ] 3.10 Add accessibility features (ARIA labels, keyboard navigation, focus management)

- [ ] 4.0 Dashboard & Transaction Management
  - [ ] 4.1 Create Dashboard layout with account balance cards and transaction list
  - [ ] 4.2 Implement useTransactions hook with React Query for data fetching and caching
  - [ ] 4.3 Build TransactionList component with infinite scroll and virtualization
  - [ ] 4.4 Create transaction filtering interface (date range, account, category, amount)
  - [ ] 4.5 Implement transaction search functionality with debounced input
  - [ ] 4.6 Build AccountBalance component with real-time balance updates
  - [ ] 4.7 Create transaction categorization interface with user override capabilities
  - [ ] 4.8 Implement EmailConnectionManager for adding/removing email accounts
  - [ ] 4.9 Add real-time processing status indicators for email analysis
  - [ ] 4.10 Create OnboardingFlow component with step-by-step email connection guide
  - [ ] 4.11 Implement transaction detail modal with original email reference
  - [ ] 4.12 Add export functionality for transaction data (CSV format)

- [ ] 5.0 PWA Features & Offline Functionality
  - [ ] 5.1 Configure Vite PWA plugin with Workbox for service worker generation
  - [ ] 5.2 Create PWA manifest.json with app metadata, icons, and theme colors
  - [ ] 5.3 Implement offline data caching strategy (network-first for API, cache-first for assets)
  - [ ] 5.4 Create offline indicator component and offline page
  - [ ] 5.5 Implement background sync for actions performed while offline
  - [ ] 5.6 Add PWA installation prompt with user-friendly install button
  - [ ] 5.7 Create push notification setup (infrastructure only, no implementation)
  - [ ] 5.8 Implement app update notification when new version is available
  - [ ] 5.9 Add offline storage utilities for critical user data persistence
  - [ ] 5.10 Test PWA functionality with Lighthouse and manual testing on mobile devices

- [ ] 6.0 Railway Deployment & Production Configuration
  - [ ] 6.1 Configure railway.json for frontend service deployment with Nixpacks
  - [ ] 6.2 Set up package.json build scripts optimized for Railway deployment
  - [ ] 6.3 Update Django CORS settings to include Railway frontend domain
  - [ ] 6.4 Set up production environment variables in Railway dashboard
  - [ ] 6.5 Configure Vite build settings for production optimization
  - [ ] 6.6 Implement security headers and CSP configuration for production
  - [ ] 6.7 Set up Railway GitHub integration for automatic deployments
  - [ ] 6.8 Configure Railway service health checks and monitoring
  - [ ] 6.9 Configure domain routing and SSL certificates in Railway
  - [ ] 6.10 Test production deployment and perform end-to-end testing
  - [ ] 6.11 Set up monitoring and error tracking for production environment
  - [ ] 6.12 Create deployment documentation and troubleshooting guide
